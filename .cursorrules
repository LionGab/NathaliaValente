# ClubNath - Comunidade de MÃ£es
# React 18 + TypeScript + Vite + Supabase + Tailwind CSS

## ğŸ¯ Contexto do Projeto
- **App**: ClubNath - Comunidade de mÃ£es brasileiras
- **Influenciadora**: Nathalia Arcuri (29M seguidores)
- **Stack**: React 18, TypeScript, Vite, Supabase, Tailwind CSS
- **Deploy**: Netlify (clubnath.netlify.app)
- **PWA**: Progressive Web App com Service Worker

## ğŸ“ Estrutura de Pastas
```
src/
â”œâ”€â”€ components/          # Componentes React
â”‚   â”œâ”€â”€ onboarding/     # Fluxo de onboarding
â”‚   â”œâ”€â”€ ui/            # Componentes base (Button, Avatar, etc)
â”‚   â””â”€â”€ *.tsx          # PÃ¡ginas principais
â”œâ”€â”€ contexts/          # React Context (Auth, Theme, Query)
â”œâ”€â”€ hooks/             # Custom hooks
â”œâ”€â”€ services/          # IntegraÃ§Ãµes (Supabase, APIs)
â”œâ”€â”€ types/             # TypeScript types
â”œâ”€â”€ utils/             # UtilitÃ¡rios
â”œâ”€â”€ constants/         # Constantes (cores, categorias)
â””â”€â”€ lib/              # ConfiguraÃ§Ãµes (Supabase client)
```

## ğŸš¨ Regras CRÃTICAS
- **NÃƒO criar** pastas duplicadas
- **NÃƒO criar** arquivos .md no src/
- **NÃƒO criar** componentes em pastas erradas
- **SEMPRE usar** TypeScript com tipos explÃ­citos
- **SEMPRE seguir** convenÃ§Ã£o camelCase para arquivos

## ğŸ¨ ConvenÃ§Ãµes de CÃ³digo

### Componentes
- **Arquivo**: PascalCase (ex: `FeedPage.tsx`)
- **Export**: Named export (ex: `export const FeedPage`)
- **Props**: Interface com sufixo Props (ex: `FeedPageProps`)
- **Hooks**: Sempre no topo do componente

### Services
- **Arquivo**: camelCase (ex: `posts.service.ts`)
- **Export**: Named export (ex: `export const postsService`)
- **Tipos**: Sempre tipar retorno de funÃ§Ãµes
- **Error handling**: Usar try/catch ou throw Error

### Hooks
- **Arquivo**: camelCase com prefixo use (ex: `usePosts.ts`)
- **Export**: Named export (ex: `export const usePosts`)
- **React Query**: Usar para cache e mutations
- **Dependencies**: Sempre no array de dependÃªncias

## ğŸ”§ IntegraÃ§Ã£o Supabase

### Cliente
- **ConfiguraÃ§Ã£o**: `src/lib/supabase.ts`
- **Tipos**: Definidos no mesmo arquivo
- **Environment**: Usar variÃ¡veis VITE_SUPABASE_*

### Queries
- **Hooks**: `src/hooks/useQueries.ts`
- **Cache**: React Query com staleTime 5min
- **Optimistic updates**: Para likes, comments
- **Error handling**: Retry automÃ¡tico

### Migrations
- **LocalizaÃ§Ã£o**: `supabase/migrations/`
- **Ordem**: Executar em sequÃªncia
- **RLS**: Sempre habilitado

## ğŸ¨ Estilo e UI

### Tailwind CSS
- **Mobile-first**: Sempre usar breakpoints progressivos
- **Classes**: Utility-first, evitar CSS customizado
- **Cores**: Usar design system (claude-orange-500, etc)
- **Responsive**: sm:, md:, lg: para breakpoints

### Componentes UI
- **Base**: `src/components/ui/`
- **Variants**: Usar class-variance-authority
- **Accessibility**: Sempre incluir aria-labels
- **Touch targets**: MÃ­nimo 44px

## ğŸ“± PWA Features
- **Service Worker**: Configurado no vite.config.ts
- **Manifest**: `public/manifest.json`
- **Icons**: `public/icons/`
- **Offline**: Cache strategies configuradas

## ğŸš€ Performance
- **Lazy loading**: Componentes pesados com React.lazy
- **Code splitting**: Manual chunks no vite.config.ts
- **Compression**: Gzip + Brotli habilitados
- **Bundle size**: Target <200KB gzipped

## ğŸ§ª Testes
- **Framework**: Vitest + Testing Library
- **Coverage**: MÃ­nimo 70%
- **Estrutura**: `src/**/__tests__/`
- **Mock**: Supabase client mockado

## ğŸ” SeguranÃ§a
- **RLS**: Row Level Security em todas as tabelas
- **Validation**: Sempre validar input do usuÃ¡rio
- **Environment**: Nunca commitar .env
- **API Keys**: Usar placeholders em exemplos

## ğŸ“Š MonetizaÃ§Ã£o
- **EstratÃ©gia**: Freemium vs Premium (R$39/mÃªs)
- **Onboarding**: Conversion-optimized
- **Instagram Auth**: Mock para demonstraÃ§Ã£o
- **Banners**: Smart timing baseado em comportamento

## ğŸ¯ Features Principais
- **Feed**: Posts com likes, comments, shares
- **Chat**: IA com emotional intelligence
- **Grupos**: Sistema completo de grupos temÃ¡ticos
- **OraÃ§Ãµes**: Sistema de prayers
- **Journaling**: DiÃ¡rio pessoal
- **Badges**: GamificaÃ§Ã£o

## ğŸš¨ Problemas Conhecidos
- **Supabase**: Chave anon precisa ser configurada
- **Instagram API**: Usando mock (nÃ£o configurado)
- **TypeScript**: Alguns erros de tipos em componentes antigos
- **Build**: Funciona localmente, deploy no Netlify

## ğŸ“ Comandos Ãšteis
```bash
# Desenvolvimento
npm run dev

# Build
npm run build

# Testes
npm run test

# Type check
npm run typecheck

# Deploy
git push origin main
```

## ğŸ¨ Design System
- **Cores primÃ¡rias**: claude-orange-500, claude-pink-500
- **Cores neutras**: claude-gray-*, claude-cream-*
- **Gradientes**: from-pink-500 to-purple-600
- **Sombras**: shadow-claude-sm, shadow-claude-md
- **Bordas**: rounded-2xl, rounded-3xl
- **EspaÃ§amento**: 4, 6, 8, 12, 16, 24px

## ğŸ”„ Estado Global
- **Auth**: AuthContext (user, profile, loading)
- **Theme**: ThemeContext (dark/light mode)
- **Query**: QueryProvider (React Query)
- **Local**: useState para estado de componente

## ğŸ“± Mobile-First
- **Safe area**: safe-area-inset classes
- **Touch targets**: touch-target class (44px min)
- **Overscroll**: overscroll-none
- **Responsive**: mobile-padding, mobile-text-sm

## ğŸ¯ Objetivos do Projeto
- **Meta**: 1.000 assinantes (R$ 39.000/mÃªs)
- **EstratÃ©gia**: Soft launch â†’ LanÃ§amento oficial â†’ Escala
- **ConversÃ£o**: Instagram login â†’ Onboarding â†’ Premium
- **Engajamento**: Feed social + IA + Grupos + OraÃ§Ãµes

## ğŸš€ PrÃ³ximos Passos
1. Configurar Supabase (chave real)
2. Implementar Instagram API real
3. Aumentar cobertura de testes
4. Implementar E2E tests
5. Otimizar performance

---

**Lembre-se**: Este Ã© um projeto de monetizaÃ§Ã£o para influenciadora. Foque em conversÃ£o, UX mobile e performance!
